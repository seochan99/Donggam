{% extends 'base.html' %}

{% block content %}
<div class="notice_title">
    <h1>정기 캠퍼스투어 신청</h1>
</div>
<div class="regular_form_info">
    <p class="title">캠퍼스투어 주의사항</p>

        <span>1. 사전 연락 없이 견학 당일 신청인원을 10명 이상 증원하는 경우, 견학 예정시간을 임의로 변경하는 경우 추후 견학 신청에 불이익을 받으실 수 있습니다.<br></span>
        <span>2. 캠퍼스투어 진행 인원이 많지 않으므로, 학생들의 즐거운 견학을 위해 함께 방문하시는 인솔자 선생님들께서 적극적으로 인솔해주시기 바랍니다.<br></span>
        <span>3. 재학생들의 면학 분위기 조성을 위해, 동국대학교 홍보대사 ‘동감’의 인솔 하에 캠퍼스 투어가 진행되는 장소 외에는 견학이 불가함을 양해바랍니다.</span>
</div>

<div class="form_wrap">
    <p class="form_title">신청서 작성</p>
    <div class="form">
        <form method="post">
            {% csrf_token %}
            <div class="form_body">
                {% if state == 0 %}
                <div>구분 : 
                    <input type="radio" name="age" value="u"/>14세이상
                    <input type="radio" name="age" value="d"/>14세미만
                </div>

                <p>패스워드 : </p>
                <p>*패스워드는 '신청자 연락처 마지막 4자리 숫자'입니다</p>
                <p>보호자 성명 : <input type="text" name="parent_name"></p>
                <p>보호자 연락처 : <input type="text" name="parent_phone"></p>
                <p>신청자 성명 : <input type="text" name="name"></p>
                <p>신청자 연락처 : <input type="text" name="phone"></p>
                <p>신청자 이메일 : <input type="text" name="email_front"> @ 
                    <input list="email_list" id="email_back" name="email_back"/>
                    <datalist id="email_list">
                        <option value="naver.com">naver.com</option>
                        <option value="gmail.com">gmail.com</option>
                        <option value="daum.net">daum.net</option>
                        <option value="hanmail.net">hanmail.net</option>
                        <option value="직접입력">직접입력</option>
                    </datalist>
                </p>
                <p>소속학교 : <input type="text" name="school"></p>
                <p>학년 : <select name="grade">
                    <option value="" disabled selected>학년선택</option>
                    <option value="1">1학년</option>
                    <option value="2">2학년</option>
                    <option value="3">3학년</option>
                    <option value="n">기타</option>
                </select></p>
                <p>견학인원 : <input type="number" name="headcount">명</p>
                <p>* 10명 이상 100명 이하만 신청 가능합니다</p>
                <p>견학일정 : <select name="date" id="date" required>
                    <option value="" disabled>캠퍼스 투어 일정 선택</option>
                    {% for d in dates %}
                    <option value="{{ d.date.year }}-{{ d.date.month }}-{{ d.date.day }}" >{{ d }}</option>
                    {% endfor %}
                    
                </select></p>
                <p>견학 동기 : <input type="textarea" name="motivation"></p>
                <p>요청사항 : <input type="textarea" name="request"></p>
            {% else %}
                <p>구분 : 
                    {% if reservation.age == "u" %}
                    <input type="radio" name="age" value="u" checked/>14세이상
                    {% else%}
                    <input type="radio" name="age" value="u"/>14세이상
                    {% endif %}
                    {% if reservation.age == "d" %}
                    <input type="radio" name="age" value="d" checked/>14세미만
                    {% else %}
                    <input type="radio" name="age" value="d"/>14세미만
                    {% endif %}
                </p>
                <p>패스워드 : </p>
                <p>*패스워드는 '신청자 연락처 마지막 4자리 숫자'입니다</p>
                <p>보호자 성명 : <input type="text" name="parent_name" value="{{ reservation.parent_name }}"></p>
                <p>보호자 연락처 : <input type="text" name="parent_phone" value="{{ reservation.parent_phone }}"></p>
                <p>신청자 성명 : <input type="text" name="name" value="{{ reservation.name }}"></p>
                <p>신청자 연락처 : <input type="text" name="phone" value="{{ reservation.phone }}"></p>
                <p>신청자 이메일 : <input type="text" name="email_front" value="{{ email_front }}"> @ 
                    <input list="email_list" id="email_back" name="email_back" value="{{ email_back }}"/>
                    <datalist id="email_list">
                        <option value="naver.com">naver.com</option>
                        <option value="gmail.com">gmail.com</option>
                        <option value="daum.net">daum.net</option>
                        <option value="hanmail.net">hanmail.net</option>
                        <option value="직접입력">직접입력</option>
                    </datalist>
                </p>
                <p>소속학교 : <input type="text" name="school" value="{{ reservation.school }}"></p>
                <p>학년 : <select name="grade">
                    <option value="" disabled selected>학년선택</option>
                    {% if reservation.grade == '1' %}
                    <option value="1" selected>1학년</option>
                    {% else %}
                    <option value="1">1학년</option>
                    {% endif %}

                    {% if reservation.grade == '2' %}
                    <option value="2" selected>2학년</option>
                    {% else %}
                    <option value="2">2학년</option>
                    {% endif %}

                    {% if reservation.grade == '3' %}
                    <option value="3" selected>3학년</option>
                    {% else %}
                    <option value="3">3학년</option>
                    {% endif %}

                    {% if reservation.grade == 'n' %}
                    <option value="n" selected>기타</option>
                    {% else %}
                    <option value="n">기타</option>
                    {% endif %}
                </select></p>
                <p>견학인원 : <input type="number" name="headcount" value="{{ reservation.headcount }}">명</p>
                <p>* 10명 이상 100명 이하만 신청 가능합니다</p>
                <p>견학일정 : <select name="date" id="date" required>
                    <option value="" disabled>캠퍼스 투어 일정 선택</option>
                    {% for d in dates %}
                    {% if reservation.date == d %}
                    <option value="{{ d.date.year }}-{{ d.date.month }}-{{ d.date.day }}" selected>{{ d }}</option>
                    {% else %}
                    <option value="{{ d.date.year }}-{{ d.date.month }}-{{ d.date.day }}" >{{ d }}</option>
                    {% endif %}
                    {% endfor %}
                    
                </select></p>
                <p>견학 동기 : <input type="textarea" name="motivation" value="{{ reservation.motivation }}"></p>
                <p>요청사항 : <input type="textarea" name="request" value="{{ reservation.request }}"></p>
            {% endif %}
            <p>동의사항 : </p>
            <p>개인정보 수집 및 이용자 동의사항</p>
            <p>구분 : 
                <input type="radio" name="agree" value="on"/>동의
                <input type="radio" name="agree" value="off"/>동의하지않음
            </p>
            </div>
            
            
            <button type="submit" class="btn btn-info right"> Submit </button>
        </form>
    </div>
</div>
<div class="clearfix">
    <a class="btn btn-info left" href="{% url 'calender:regular_list' %}"> 목록으로 </a>
</div>
{% endblock %}