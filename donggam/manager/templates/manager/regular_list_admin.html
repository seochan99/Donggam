{% extends 'base.html' %}

{% block content %}

{% load static %}
<div class="regular_apply">
    <div class="board_wrap">
        <div class="board_title">
            <div class="notice_title">
                <h1>정기 캠퍼스투어(관리자)</h1>
            </div>
            <div class="regular_info_admin" style="padding:33px 59px 27px 34px">
                <form method="post" action="{% url 'manager:regulardate_cud' %}" onsubmit="return realEdit()">
                    {% csrf_token %}
                    {% for d in tourdates %}
                    <span class="notice_done_edit" id="notice_done_edit" >[공지] {{ d.date.month }}월 정기 캠퍼스투어일은 {{d.date.day }}일 입니다.</span>
                    
                    <input class="notice_add_btn" type="submit" id="add_notice" value="공지추가">
                    <input class="notice_edit_btn" type="submit" id="edit_notice" name="edit" value="수정">

                    <span class="notice_yet_edit" id="notice_yet_edit" style="display: none;">[공지] <input type="number"  placeholder="{{d.date.month}}" name="month">월 정기 캠퍼스투어일은 <input type="number" placeholder="{{ d.date.day }}" name="day">일 입니다.</span>
                    
                    {% endfor %}
                </form>
                <!-- class="notice_add_edit" style="display: none;" -->
            </div>
            <div class="regular_info_admin" id="add_info" style="padding:33px 59px 27px 34px; display: none;">
                <form method="post" action="{% url 'manager:regulardate_cud' %}">
                    {% csrf_token %}
                    <span class="notice_done_edit" id="notice_done_edit" >[공지] <input type="number" name="month" placeholder="년" style="width:70px"> <input type="number" name="month" placeholder="월">월  정기 캠퍼스투어일은 <input type="number" placeholder="일" name="day">일 입니다.</span>
                    <input class="notice_add_btn" type="submit" id="save_notice" id="save_notice" value="저장">

                </form>
                <!-- <input type="number" name="year">년 -->
                <!-- class="notice_add_edit" style="display: none;" -->
            </div>
        </div>
        <div class="board_list_wrap">
            <div class="board_list">
                <div class="top">
                    <div class="num">번호</div>
                    <div class="title">제목</div>
                    <div class="status">신청상태</div>
                    <div class="date">작성일</div>
                </div>
                {% for r in page_obj %}
                <div class="body">
                    <div class="num">{{ r.pk }}</div>
                    <div class="title"><a href="{% url 'manager:admin_regular_form' reservation_id=r.pk %}">{{ r }}</a></div>
                    <div class="status">
                        {% if r.status == '1' %}
                        <wait style="color: #999999;">검토대기</wait>
                        {% elif r.status == '2' %}
                        <high style="color: #00BA34;">승인</high>
                        {% elif r.status == '3' %}
                        <high style="color: #DF633B;">거부</high>
                        {% endif %}
                    </div>
                    <div class="date">{{ r.created_at }}</div>
                </div>
                {% endfor %}
            </div>
            <div class="board_page">
                <a href="?page={{ page_obj.start_index }}" class="bt first"><<</a>
                {% if page_obj.has_previous %}
                <a href="?page={{ page_obj.previous_page_number }}" class="bt prev"><</a>
                {% else %}
                <a href="#" class="bt prev"><</a>
                {% endif %}

                {% for p in page_obj.paginator.page_range %}
                {% if p == page_obj.number %}
                <a href="?page={{ p }}" class="num on">{{ p }}</a>
                {% else %}
                <a href="?page={{ p }}" class="num">{{ p }}</a>
                {% endif %}
                {% endfor %}

                {% if page_obj.has_next %}
                <a href="?page={{ page_obj.next_page_number }}" class="bt next">></a>
                {% else %}
                <a href="#" class="bt next">></a>
                {% endif %}
                <a href="?page={{ page_obj.end_index }} " class="bt last">>></a>
            </div>
        </div>
    </div>
</div>
<style>

.notice_add_btn{
    text-align: c;
    float: right;
    background: #DF633B;
    padding: 0.3vw 1vw;
    text-align: center;
    border: 1px solid #DF633B;
    border-radius: 8px;
    font-size: 1vw;
    color: white;
    }
    .notice_add_btn:hover{
    color: #DF633B;
    background: white;
}
.notice_edit_btn{
    float: right;
    background: #DF633B;
    padding: 0.3vw 1vw;
    text-align: center;
    border: 1px solid #DF633B;
    border-radius: 8px;
    font-size: 1vw;
    color: white;
    margin-right: 10px;
    }
    .notice_edit_btn:hover{
    color: #DF633B;
    background: white;
}


</style>
{% endblock %}